<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
 <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <title>Home</title>
  <style>

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 2px;
}

#contain {
  display: flex;
  max-width: 1920px; /* or inline-flex */
}
</style>
 
</head>

<body>
  {% extends "header.html" %}
  {% block content %}

  <!-- Navigation -->
  {% include 'components/navbar.html' %}

  <!-- Page Header -->
  {% include 'components/masthead.html' %}

<div> <p>Region: Teeside</p> <div>
<div  class="container" id="contain">
<div id="sales" class="col" >  
  <div id="tabs" width="100%">
  <ul>
    <li><a href="#buy">Buy</a></li>
    <li><a href="#sell">Sell</a></li>
    <li><a href="#users">Users</a></li>
  </ul>
    <div id="buy">
    </div>
    <div id="sell">
    </div>
    <div id="users">
    </div>
  </div>
</div>
<div class="col" >
  <div>Statistics</div>
  <svg id="svg-top" width="100%" height="300px"/>
  <svg id="svg_bottom" width="100%" height="300px"/>
</div>
  <script>

const sample = [
   {
      "date":"01-01-2018",
      "value":10
   
},
   {
      "date":"02-01-2018",
      "value":20
   
},
   {
      "date":"03-01-2018",
      "value":40
   
},
   {
      "date":"04-01-2018",
      "value":40
   
}

];

var parseTime = d3.timeParse("%d-%m-%Y")
 sample.forEach(function(d) {
      d.date = parseTime(d.date);
      console.log (d);
  });

const margin = 60;
const width = 1000 - 2 * margin;
const height = 300 - 2 * margin;

const svg = d3.select('#svg-top');
const chart = svg.append('g')
    .attr('transform', `translate(${margin}, ${margin})`);
const yScale = d3.scaleLinear()
    .range([height, 0])
    .domain([0, 100]);
chart.append('g')
    .call(d3.axisLeft(yScale));
const xScale = d3.scaleTime()
    .range([0,width])
    .domain(d3.extent(sample, function(d) { return d.date;}))

chart.append('g')
    .attr('transform', `translate(0, ${height})`)
    .call(d3.axisBottom(xScale));


var line = d3.line()
    .x(function(d) { return xScale(d.date); }) // set the x values for the line generator
    .y(function(d) { return yScale(d.value); }) // set the y values for the line generator 
    .curve(d3.curveMonotoneX) // apply smoothing to the line

chart.append("path")
    .datum(sample) // 10. Binds data to the line 
    .attr("class", "line") // Assign a class for styling 
    .attr("d", line); // 11. Calls the line generator 

const svg_bottom = d3.select('#svg_bottom');
const chart_bottom = svg_bottom.append('g')
    .attr('transform', `translate(${margin}, ${margin})`);
const yScale_bottom = d3.scaleLinear()
    .range([height, 0])
    .domain([0, 100]);
chart_bottom.append('g')
    .call(d3.axisLeft(yScale_bottom));
const xScale_bottom = d3.scaleTime()
    .range([0,width])
    .domain(d3.extent(sample, function(d) { return d.date;}))

chart.append('g')
    .attr('transform', `translate(0, ${height})`)
    .call(d3.axisBottom(xScale));


var line = d3.line()
    .x(function(d) { return xScale_bottom(d.date); }) // set the x values for the line generator
    .y(function(d) { return yScale_bottom(d.value); }) // set the y values for the line generator 
    .curve(d3.curveMonotoneX) // apply smoothing to the line

chart_bottom.append("path")
    .datum(sample) // 10. Binds data to the line 
    .attr("class", "line") // Assign a class for styling 
    .attr("d", line); // 11. Calls the line generator 
 

  </script>

  <br>
  

  {% endblock %}
</body>
</html>
